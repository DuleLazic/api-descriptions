swagger: '2.0'
responses:
  default-error-response:
    description: Besides specific status codes above, other standard http [status codes](http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html) can be returned for each request. To learn more see general guidance on [error handling]()
definitions:
  case-list:
    description: Paged list of customer cases.
    properties:
      total-count:
        description: Total count.
        format: int32
        type: integer
      page-size:
        description: Page size.
        format: int32
        type: integer
      page-number:
        description: Page number.
        format: int32
        type: integer
      total-pages:
        description: Total pages.
        format: int32
        type: integer
      items:
        description: List of customer cases.
        items:
          $ref: '#/definitions/case'
        type: array
      navigations:
        description: Links to related resources.
        items:
          $ref: '#/definitions/link'
        type: array
      commands:
        description: Available commands in current context.
        items:
          $ref: '#/definitions/link'
        type: array
      uri:
        description: URI
        type: string
    type: object
  case:
    description: Contains details of customer case.
    properties:
      case-id:
        description: Unique identifier of customer case.
        type: string
      case-topic:
        description: Type of the customer's request. For complete list of possible values see [case-topic]() classification.
        type: string
      case-type:
        description: Type of the case object.
        enum:
          - complaint
          - service-request
          - callback-request
        type: string
      registered-by-party-number:
        description: Unique identifier of the party that creates the case.
        type: string
      registered-by-party-name:
        description: Name of the party that opens the case.
        type: string
      updated-by-party-number:
        description: Unique identifier of the party that changed the case.
        type: string
      updated-by-party-name:
        description: Name of the party that changed the case.
        type: string
      customer-number:
        description: Unique identifier of the client.
        type: string
      customer-name:
        description: Name of the client that is linked to the case.
        type: string
      registration-date:
        description: Date of opening.
        format: date-time
        type: string
      state:
        description: State of the case.
        enum:
          - active
          - resolved
          - canceled
          - closed
          - accepted
        type: string
      resolution:
        description: Resolution of the case.
        type: string
      importance:
        description: The level of imporance.
        enum:
          - low
          - standard
          - very-important
        type: string
      title:
        description: Title of the case.
        type: string
      details:
        description: Details about the case.
        type: string
      arrangement-number:
        description: Arrangement number to which the case is related.
        type: string
      attachments:
        description: Associated case files.
        items:
          $ref: '#/definitions/attachment'
        type: array
      uri:
        description: URI
        type: string
    type: object
  link:
    properties:
      href:
        description: Gets or sets the href.
        type: string
      rel:
        description: Gets or sets the rel.
        type: string
    type: object
  attachment:
    description: Reference to file associated with customer case.
    properties:
      attachment-id:
        description: Unique identifier of attachment.
        type: string
      attachment-name:
        description: Meta name of the attachment.
        type: string
      attachment-uri:
        description: URI
        type: string
    type: object  
  update-case-command:
    description: Updates resolution and state of some case.
    properties:
      resolution:
        description: Resolution of the case.
        type: string
      state:
        description: Current state of the case.
        enum:
          - resolved
          - closed
          - rejected
        type: string
    type: object
  command-result:
    description: The result of the executed command.
    properties:
      id:
        description: 'Returns the identifier of created, updated or deleted object.'
        type: string
      created-record-status:
        description: 'Status of the object (created, updated, deleted).'
        type: string
    type: object
  case-history:
    description: Provides the history of customer case processing.
    properties:
      total-count:
        description: Total count.
        format: int32
        type: integer
      page-size:
        description: Page Size.
        format: int32
        type: integer
      page-number:
        description: Page number.
        format: int32
        type: integer
      total-pages:
        description: Total pages.
        format: int32
        type: integer
      items:
        description: List of history entries for the case.
        items:
          $ref: '#/definitions/case-history-item'
        type: array
      navigations:
        description: Links to related resources.
        items:
          $ref: '#/definitions/link'
        type: array
      commands:
        description: Available commands in current context.
        items:
          $ref: '#/definitions/link'
        type: array
      uri:
        description: URI
        type: string
    type: object
  case-history-item:
    description: Customer case history item
    properties:
      case-id:
        description: Unique identifier of customer case
        type: string
      case-type:
        description: The type of the case is one of the delivered types of CustomerServiceRequest object type.
        enum:
          - complaint
          - service-request
          - callback-request
        type: string
      updated-by-party-number:
        description: Identifier of the party that changed the case.
        type: string
      updated-by-party-name:
        description: Name of the party that changed the case.
        type: string
      customer-number:
        description: Unique identifier of the client.
        type: string
      registration-date:
        description: Date of case registration.
        format: date-time
        type: string
      state:
        description: State of the case.
        enum:
          - active
          - resolved
          - canceled
          - closed
          - accepted
        type: string
      resolution:
        description: Resolution of the case.
        type: string
      importance:
        description: The level of imporance.
        enum:
          - low
          - standard
          - very-important
        type: string
      details:
        description: Details about the case.
        type: string
      arrangement-number:
        description: Arrangement number to which the case is related
        type: string
      version-number:
        description: Change version
        type: string
      version-date:
        description: Version date
        format: date-time
        type: string
      uri:
        description: URI
        type: string
    type: object
  create-callback-request-command:
    description: Creates customer case for callback.
    properties:
      callback-request-time:
        description: Callback request time
        format: date-time
        type: string
      category:
        description: 'Category of callback request. For a complete list of possible values see [callback-category]() classification.'
        type: string
      customer-number:
        description: Unique identifier of the client.
        type: string
    type: object
  create-complaint-command:
    description: Creates new complaint
    properties:
      case-id:
        description: Unique case identifier
        type: string
      customer-number:
        description: Unique identifier of the client.
        type: string
      importance:
        description: Level of importance.
        enum:
          - low
          - standard
          - very-important
        type: string
      details:
        description: Details about the case.
        type: string
      arrangement-number:
        description: Arrangement number to which the case is related.
        type: string
      title:
        description: Reason of the related communication.
        type: string
      reply-address:
        description: Address for sending the reply to the customer.
        type: string
      reply-address-code:
        description: Address code for sending the reply to the customer.
        type: string
      communication-channel:
        description: Communication channel through which case was received.
        enum:
          - email
          - face-to-face-meeting
          - sms
          - wap
          - fax
          - instant-message
          - phone
          - mail
          - other-communication-technology
          - web
        type: string
      case-topic:
        description: Type of the customer's request. For complete list of possible values see [case-topic]() classification.
        type: string
      related-case-id:
        description: Unique indetifier of related case.
        type: string
    type: object
  create-service-request-command:
    description: Creates a new service request
    properties:
      case-id:
        description: Unique case identifier
        type: string
      customer-number:
        description: Unique identifier of the client.
        type: string
      importance:
        description: Level of importance.
        enum:
          - low
          - standard
          - very-important
        type: string
      details:
        description: Details about the case.
        type: string
      arrangement-number:
        description: Arrangement number to which the case is related.
        type: string
      title:
        description: Reason of the related communication.
        type: string
      reply-address:
        description: Address for sending the reply to the customer.
        type: string
      reply-address-code:
        description: Address code for sending the reply to the customer.
        type: string
      communication-channel:
        description: Communication channel through which case was received.
        enum:
          - email
          - face-to-face-meeting
          - sms
          - wap
          - fax
          - instant-message
          - phone
          - mail
          - other-communication-technology
          - web
        type: string
      case-topic:
        description: Type of the customer's request. For complete list of possible values see [case-topic]() classification.
        type: string
      related-case-id:
        description: Unique indetifier of related case.
        type: string
    type: object
  add-case-attachment-command:
    description: Adds attachment to customer case.
    properties:
      case-id:
        description: Unique identifier of customer case.
        type: string
      file-id:
        description: Unique identifier of the attachment.
        type: string
      file-name:
        description: Name of the attached document.
        type: string
      customer-number:
        description: Unique identifier of the client.
        type: string
    type: object
  close-case-command:
    description: Closes the customer case.
    properties:
      resolution:
        description: Resolution of the closed case.
        type: string
    type: object
host: api.asee.co
info:
description: |
    Customer case API is used to register, list and record actions on customer cases.
    You can register a customer a case, get case details, files an history, search through registered customer cases and close them when they are resolved.
    With customer case API you can: 
      - Open a customer complaint case
      - Open a customer service request case
      - List customer cases
      - Search customer cases
      - Get customer case details
      - Get customer case history
      - Get customer case files
      - Add case supporting files
      - Update on case progress
      - Close customer case
  title: Customer Case API
  version: beta
schemes:
  - http
consumes:
  - application/json
produces:
  - application/json
tags:
  - name: Cases
    description: Working with customer cases
  - name: Callback requests
    description: Working with callback requests
  - name: Complaints
    description: Working with complaints
  - name: Service requests
    description: Working with service requests
paths:
  /cases:
    get:
      consumes: []
      deprecated: false
      operationId: Cases_GetList
      parameters:
        - description: Case type
          in: query
          name: case-type
          required: false
          enum:
            - complaint
            - service-request
            - callback-request
          type: string
        - description: Type of the customer's request. For complete list of possible values see [case-topic]() classification.
          in: query
          name: case-topic
          required: false
          type: string
        - description: Unique identifier of the client.
          in: query
          name: customer-number
          required: false
          type: string
        - description: Unique identifier of the agent that opens the case.
          in: query
          name: agent-id
          required: false
          type: string
        - description: Case is registered from date.
          in: query
          name: date-from
          required: false
          format: date-time
          type: string
        - description: Case is registered to date.
          in: query
          name: date-to
          required: false
          format: date-time
          type: string
        - description: States
          in: query
          name: states
          required: false
          type: string
        - description: Query
          in: query
          name: query
          required: false
          type: string
        - description: Number of items on a page. For more information see general guidance on [paging and sorting]().
          in: query
          name: page-size
          required: false
          format: int32
          type: integer
        - description: Page index. For more information see general guidance on [paging and sorting]().
          in: query
          name: page-number
          required: false
          format: int32
          type: integer
        - description: Sort order (`asc` or `desc`). Default is asc. For more information see general guidance on [paging and sorting]().
          in: query
          name: sort-order
		  enum: 
            - asc
            - desc
		  type: string
		  required: false          
        - description: Attribute of the collection item to sort by. For more information see general guidance on [paging and sorting]().
          in: query
          name: sort-by
          required: false
          type: string
        - description: List of fields to include in response. For more information see general guidance on [response shaping]()
          in: query
          name: include-fields-list
          required: false
          items:
            type: string
          type: array
        - description: List of fields to trim from response. For more information see general guidance on [response shaping]()
          in: query
          name: exclude-field-list
          required: false
          items:
            type: string
          type: array      
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/case-list' 
		  default:
			$ref: '#/responses/default-error-response'       
      summary: Operation returns list of cases with basic details like registration date current lifecycle state and the name and id of the agent responsible for handling the case. When used without optional parameters all active cases are returned.
      tags:
        - Cases
  '/cases/{case-id}':
    get:
      deprecated: false
      operationId: Cases_Get
      parameters:
        - description: Unique identifier of customer case.
          in: path
          name: case-id
          required: true
          type: string
        - description: List of fields to include in response. For more information see general guidance on [response shaping]()
          in: query
          name: include-fields-list
          required: false
          items:
            type: string
          type: array
        - description: List of fields to trim from response. For more information see general guidance on [response shaping]()
          in: query
          name: exclude-field-list
          required: false
          items:
            type: string
          type: array      
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/case'
		  default:
			$ref: '#/responses/default-error-response'
      summary: Operation returns specific case details.
      tags:
        - Cases
  '/cases/{case-id}/status':
    put:      
      deprecated: false
      operationId: Cases_Update
      parameters:
        - description: 'Info about the update (Resolution, State)'
          in: body
          name: cmd
          required: true
          schema:
            $ref: '#/definitions/update-case-command'
        - description: Unique identifier of customer case.
          in: path
          name: case-id
          required: true
          type: string      
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/command-result'
		  default:
			$ref: '#/responses/default-error-response'        
      summary: Operation updates the specified case progress. Operation returns customer case with updated status.
      tags:
        - Cases
  '/cases/{case-id}/history':
    get:      
      deprecated: false
      operationId: Cases_GetHistory
      parameters:
        - description: Unique identifier of customer case.
          in: path
          name: case-id
          required: true
          type: string
        - description: Number of items on a page. For more information see general guidance on [paging and sorting]().
          in: query
          name: page-size
          required: false
          format: int32
          type: integer
        - description: Page index. For more information see general guidance on [paging and sorting]().
          in: query
          name: page-number
          required: false
          format: int32
          type: integer
        - description: Sort order (`asc` or `desc`). Default is asc. For more information see general guidance on [paging and sorting]().
          in: query
          name: sort-order
		  enum:
            - asc
            - desc
          required: false
          type: string
        - description: Attribute of the collection item to sort by. For more information see general guidance on [paging and sorting]().
          in: query
          name: sort-by
          required: false
          type: string     
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/case-history'
          default:
			$ref: '#/responses/default-error-response'
      summary: Operation returns list of file details associated with the specific case.
      tags:
        - Cases
  /callback-requests:
    post:      
      deprecated: false
      operationId: CallbackRequests_Create
      parameters:
        - description: 'Command contains parameters for creating callback request.'
          in: body
          name: cmd
          required: true
          schema:
            $ref: '#/definitions/create-callback-request-command'      
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/command-result'
          default:
			$ref: '#/responses/default-error-response'
      summary: Add Callback Request
      tags:
        - Callback requests
  /complaints:
    post:     
      deprecated: false
      operationId: Complaints_Create
      parameters:
        - description: Command contains parameters for creating new complaint.
          in: body
          name: cmd
          required: true
          schema:
            $ref: '#/definitions/create-complaint-command'      
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/command-result'
          default:
			$ref: '#/responses/default-error-response'
      summary: Operation opens new customer complaint. Operation returns complaint with assigned case identifier.
      tags:
        - Complaints
  /service-requests:
    post:      
      deprecated: false
      operationId: ServiceRequests_Create
      parameters:
        - description: Command contains parameters for creating new service request.
          in: body
          name: cmd
          required: true
          schema:
            $ref: '#/definitions/create-service-request-command'      
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/command-result'
          default:
			$ref: '#/responses/default-error-response'
      summary: Operation opens new customer service request. Operation returns service-request with assigned case identifier.
      tags:
        - Service requests
  '/cases/{case-id}/attachments':
    post:      
      deprecated: false
      operationId: Cases_AddAttachment
      parameters:
        - description: Id and Name of the document to be attached
          in: body
          name: cmd
          required: true
          schema:
            $ref: '#/definitions/add-case-attachment-command'
        - description: Case id
          in: path
          name: case-id
          required: true
          type: string      
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/command-result'
        default:
          $ref: '#/responses/default-error-response'
      summary: Operation attaches document/file to the existing Case
      tags:
        - Cases
  '/cases/{case-id}/close':
    post:      
      deprecated: false
      operationId: Cases_Close
      parameters:
        - description: Info about closing the case (Resolution)
          in: body
          name: cmd
          required: true
          schema:
            $ref: '#/definitions/close-case-command'
        - description: Unique identifier of customer case.
          in: path
          name: case-id
          required: true
          type: string     
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/command-result'
          default:
			$ref: '#/responses/default-error-response'
      summary: Operation closes the specified case and returns closed case id.
      tags:
        - Cases
  '/cases/{case-id}/attachments/{file-id}':
    delete:
      deprecated: false
      operationId: Cases_RemoveAttachment
      parameters:
        - description: Unique identifier of customer case.
          in: path
          name: case-id
          required: true
          type: string
        - description: Unique identifier of attachment.
          in: path
          name: file-id
          required: true
          type: string
        - description: Unique identifier of the client.
          in: query
          name: customer-number
          required: false
          type: string     
      responses:
        '204':
          description: No content
        default:
          $ref: '#/responses/default-error-response'
      summary: Operation removes attaced file from case.
      tags:
        - Cases  
